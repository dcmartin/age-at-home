{
"database":"quiet-water",
"command":"SELECT ${db}_visual_scores.NAME  AS \"${db}_visual_scores.name\", ${db}_visual_scores.CLASSIFIER_ID  AS \"${db}_visual_scores.classifier_id\", ${db}_visual_scores.SCORE  AS \"${db}_visual_scores.score\", substr((TO_CHAR(TIMESTAMP(TO_CHAR(TIMESTAMP('1970-01-01-00.00.00') + (CAST(DAYS(to_timestamp(${db}.YEAR || '-'|| ${db}.MONTH || '-' || ${db}.DAY || ' ' || ${db}.HOUR || ':' || ${db}.MINUTE || ':' || ${db}.SECOND, 'YYYY-MM-DD HH24:MI:SS') ) - DAYS(TIMESTAMP('1970-01-01')) AS INTEGER) * 86400 + MIDNIGHT_SECONDS(to_timestamp(${db}.YEAR || '-'|| ${db}.MONTH || '-' || ${db}.DAY || ' ' || ${db}.HOUR || ':' || ${db}.MINUTE || ':' || ${db}.SECOND, 'YYYY-MM-DD HH24:MI:SS') ) - MOD(CAST(DAYS(to_timestamp(${db}.YEAR || '-'|| ${db}.MONTH || '-' || ${db}.DAY || ' ' || ${db}.HOUR || ':' || ${db}.MINUTE || ':' || ${db}.SECOND, 'YYYY-MM-DD HH24:MI:SS') ) - DAYS(TIMESTAMP('1970-01-01')) AS INTEGER) * 86400 + MIDNIGHT_SECONDS(to_timestamp(${db}.YEAR || '-'|| ${db}.MONTH || '-' || ${db}.DAY || ' ' || ${db}.HOUR || ':' || ${db}.MINUTE || ':' || ${db}.SECOND, 'YYYY-MM-DD HH24:MI:SS') ), 60 * 15)) SECONDS, 'YYYY-MM-DD HH24:MI') || ':00'), 'YYYY-MM-DD HH24:MI')),12,5)  AS \"${db}.15_minute_interval\", COUNT(DISTINCT ${db}_visual_scores.\"_ID\" ) AS \"${db}_visual_scores.count\" FROM DASH100451.INTERVALS  AS intervals FULL OUTER JOIN DASH100451.\"QUIET-WATER\"  AS ${db} ON (substr((TO_CHAR(TIMESTAMP(TO_CHAR(TIMESTAMP('1970-01-01-00.00.00') + (CAST(DAYS(to_timestamp(${db}.YEAR || '-'|| ${db}.MONTH || '-' || ${db}.DAY || ' ' || ${db}.HOUR || ':' || ${db}.MINUTE || ':' || ${db}.SECOND, 'YYYY-MM-DD HH24:MI:SS') ) - DAYS(TIMESTAMP('1970-01-01')) AS INTEGER) * 86400 + MIDNIGHT_SECONDS(to_timestamp(${db}.YEAR || '-'|| ${db}.MONTH || '-' || ${db}.DAY || ' ' || ${db}.HOUR || ':' || ${db}.MINUTE || ':' || ${db}.SECOND, 'YYYY-MM-DD HH24:MI:SS') ) - MOD(CAST(DAYS(to_timestamp(${db}.YEAR || '-'|| ${db}.MONTH || '-' || ${db}.DAY || ' ' || ${db}.HOUR || ':' || ${db}.MINUTE || ':' || ${db}.SECOND, 'YYYY-MM-DD HH24:MI:SS') ) - DAYS(TIMESTAMP('1970-01-01')) AS INTEGER) * 86400 + MIDNIGHT_SECONDS(to_timestamp(${db}.YEAR || '-'|| ${db}.MONTH || '-' || ${db}.DAY || ' ' || ${db}.HOUR || ':' || ${db}.MINUTE || ':' || ${db}.SECOND, 'YYYY-MM-DD HH24:MI:SS') ), 60 * 15)) SECONDS, 'YYYY-MM-DD HH24:MI') || ':00'), 'YYYY-MM-DD HH24:MI')),12,5)) = (intervals.\"INTERVAL\") FULL OUTER JOIN DASH100451.\"QUIET-WATER_VISUAL_SCORES\"  AS ${db}_visual_scores ON (${db}_visual_scores.\"_ID\") = (${db}.\"_ID\") and (substr((TO_CHAR(TIMESTAMP(TO_CHAR(TIMESTAMP('1970-01-01-00.00.00') + (CAST(DAYS(to_timestamp(${db}.YEAR || '-'|| ${db}.MONTH || '-' || ${db}.DAY || ' ' || ${db}.HOUR || ':' || ${db}.MINUTE || ':' || ${db}.SECOND, 'YYYY-MM-DD HH24:MI:SS') ) - DAYS(TIMESTAMP('1970-01-01')) AS INTEGER) * 86400 + MIDNIGHT_SECONDS(to_timestamp(${db}.YEAR || '-'|| ${db}.MONTH || '-' || ${db}.DAY || ' ' || ${db}.HOUR || ':' || ${db}.MINUTE || ':' || ${db}.SECOND, 'YYYY-MM-DD HH24:MI:SS') ) - MOD(CAST(DAYS(to_timestamp(${db}.YEAR || '-'|| ${db}.MONTH || '-' || ${db}.DAY || ' ' || ${db}.HOUR || ':' || ${db}.MINUTE || ':' || ${db}.SECOND, 'YYYY-MM-DD HH24:MI:SS') ) - DAYS(TIMESTAMP('1970-01-01')) AS INTEGER) * 86400 + MIDNIGHT_SECONDS(to_timestamp(${db}.YEAR || '-'|| ${db}.MONTH || '-' || ${db}.DAY || ' ' || ${db}.HOUR || ':' || ${db}.MINUTE || ':' || ${db}.SECOND, 'YYYY-MM-DD HH24:MI:SS') ), 60 * 15)) SECONDS, 'YYYY-MM-DD HH24:MI') || ':00'), 'YYYY-MM-DD HH24:MI')),12,5)) = (intervals.\"INTERVAL\") WHERE ((((to_timestamp(${db}.YEAR || '-'|| ${db}.MONTH || '-' || ${db}.DAY || ' ' || ${db}.HOUR || ':' || ${db}.MINUTE || ':' || ${db}.SECOND, 'YYYY-MM-DD HH24:MI:SS') ) >= (((TIMESTAMP(TO_CHAR(CURRENT TIMESTAMP, 'YYYY-MM-DD')) + (-364) day))) AND (to_timestamp(${db}.YEAR || '-'|| ${db}.MONTH || '-' || ${db}.DAY || ' ' || ${db}.HOUR || ':' || ${db}.MINUTE || ':' || ${db}.SECOND, 'YYYY-MM-DD HH24:MI:SS') ) < ((((TIMESTAMP(TO_CHAR(CURRENT TIMESTAMP, 'YYYY-MM-DD')) + (-364) day) + (365) day)))))) AND (((${db}_visual_scores.NAME IS NOT NULL) AND ${db}_visual_scores.NAME <> 'default')) GROUP BY ${db}_visual_scores.NAME ,${db}_visual_scores.CLASSIFIER_ID ,${db}_visual_scores.SCORE ,substr((TO_CHAR(TIMESTAMP(TO_CHAR(TIMESTAMP('1970-01-01-00.00.00') + (CAST(DAYS(to_timestamp(${db}.YEAR || '-'|| ${db}.MONTH || '-' || ${db}.DAY || ' ' || ${db}.HOUR || ':' || ${db}.MINUTE || ':' || ${db}.SECOND, 'YYYY-MM-DD HH24:MI:SS') ) - DAYS(TIMESTAMP('1970-01-01')) AS INTEGER) * 86400 + MIDNIGHT_SECONDS(to_timestamp(${db}.YEAR || '-'|| ${db}.MONTH || '-' || ${db}.DAY || ' ' || ${db}.HOUR || ':' || ${db}.MINUTE || ':' || ${db}.SECOND, 'YYYY-MM-DD HH24:MI:SS') ) - MOD(CAST(DAYS(to_timestamp(${db}.YEAR || '-'|| ${db}.MONTH || '-' || ${db}.DAY || ' ' || ${db}.HOUR || ':' || ${db}.MINUTE || ':' || ${db}.SECOND, 'YYYY-MM-DD HH24:MI:SS') ) - DAYS(TIMESTAMP('1970-01-01')) AS INTEGER) * 86400 + MIDNIGHT_SECONDS(to_timestamp(${db}.YEAR || '-'|| ${db}.MONTH || '-' || ${db}.DAY || ' ' || ${db}.HOUR || ':' || ${db}.MINUTE || ':' || ${db}.SECOND, 'YYYY-MM-DD HH24:MI:SS') ), 60 * 15)) SECONDS, 'YYYY-MM-DD HH24:MI') || ':00'), 'YYYY-MM-DD HH24:MI')),12,5) ORDER BY 5 DESC", 
"limit":0,
"separator": ";",
"stop_on_error": "no"
}
